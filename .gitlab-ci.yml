stages:
  - trigger-microservices-pipelines

userservice:
  stage: trigger-microservices-pipelines
  trigger:
    include: userservice/.gitlab-ci.yml
    strategy: depend
  only:
    changes:
      - pipelineGitlabCiCd-pierre
      - userservice/**/*

location_service:
  stage: trigger-microservices-pipelines
  trigger:
    include: location_service/.gitlab-ci.yml
    strategy: depend
  only:
    changes:
      - pipelineGitlabCiCd-pierre
      - location_service/**/*

discoveryserver:
  stage: trigger-microservices-pipelines
  trigger:
    include: discoveryserver/.gitlab-ci.yml
    strategy: depend
  only:
    changes:
      - pipelineGitlabCiCd-pierre
      - discoveryserver/**/*

#apigatewayservice:
#  stage: trigger-microservices-pipelines
#  trigger:
#    include: apigatewayservice/.gitlab-ci.yml
#    strategy: depend
#  only:
#    changes:
#      - pipelineGitlabCiCd-pierre
#      - apigatewayservice/**/*
#
